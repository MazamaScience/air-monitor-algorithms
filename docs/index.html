<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>air-monitor-algorithms</h1>
<p>Algorithms for processing hourly time series data, with an initial focus on
air quality monitoring applications.</p>
<p>This package supports the
<a href="https://github.com/MazamaScience/air-monitor">air-monitor</a> ecosystem, which
works with air quality monitoring data archives hosted by the US Forest
Service.</p>
<blockquote>
<p><strong>Note:</strong> All time series data are assumed to be on a regular hourly axis
with no gaps. Missing values should be represented as <code>null</code>.</p>
<p><strong>ðŸš¨ Important:</strong> All timestamp inputs must be
<a href="https://moment.github.io/luxon/">Luxon</a> <code>DateTime</code> objects in the UTC timezone.
All timestamp outputs are also returned as <code>DateTime</code> objects in UTC.</p>
</blockquote>
<h2>Features</h2>
<p>High-level analysis functions:</p>
<ul>
<li>
<p><code>dailyStats(datetime, x, timezone)</code>
Returns local-time daily statistics (min, max, mean, count) from hourly data.</p>
</li>
<li>
<p><code>diurnalStats(datetime, x, timezone, dayCount)</code>
Returns local-time hourly averages from the most recent <code>dayCount</code> days.</p>
</li>
<li>
<p><code>pm_nowcast(pm)</code>
Calculates EPA-style NowCast values from hourly PM2.5 or PM10 data.</p>
</li>
<li>
<p><code>trimDate(datetime, x, timezone)</code>
Trims input to full local-time days (midnight to midnight).</p>
</li>
</ul>
<p>Array utility functions:</p>
<ul>
<li><code>arrayCount(x)</code> â€” Count of non-missing (<code>!= null</code>) values</li>
<li><code>arraySum(x)</code> â€” Sum of valid values</li>
<li><code>arrayMin(x)</code> â€” Minimum valid value</li>
<li><code>arrayMean(x)</code> â€” Mean of valid values</li>
<li><code>arrayMax(x)</code> â€” Maximum valid value</li>
</ul>
<h2>Installation</h2>
<p>To install the latest stable release from <a href="https://www.npmjs.com/package/air-monitor-algorithms">npm</a>:</p>
<p><code>npm install air-monitor-algorithms</code></p>
<p>To install the latest development version directly from GitHub:</p>
<p><code>npm install github:MazamaScience/air-monitor-algorithms</code></p>
<h2>Usage</h2>
<p>This ES module can be used in modern JavaScript projects, including Svelte
and Vue apps. You must use Luxon <code>DateTime</code> objects in UTC as input timestamps.</p>
<pre class="prettyprint source"><code>import {
  dailyStats,
  pm_nowcast
} from &quot;air-monitor-algorithms&quot;;
import { DateTime } from &quot;luxon&quot;;

// Generate fake hourly data for 3 days
const datetime = [];
const x = [];

const start = DateTime.fromISO(&quot;2023-07-01T00:00:00Z&quot;); // UTC
for (let i = 0; i &lt; 72; i++) {
  datetime.push(start.plus({ hours: i }));       // UTC Luxon DateTime
  x.push(50 + Math.sin(i / 3) * 10);             // sinusoidal variation
}

// Calculate daily statistics in the 'America/Los_Angeles' timezone
const daily = dailyStats(datetime, x, &quot;America/Los_Angeles&quot;);
console.log(daily.mean); // â†’ [meanDay1, meanDay2, meanDay3]

// Apply NowCast to the hourly data
const nowcast = pm_nowcast(x);
console.log(nowcast.slice(-5)); // â†’ last 5 hourly NowCast values
</code></pre>
<h2>Related Packages</h2>
<ul>
<li><a href="https://www.npmjs.com/package/air-monitor">air-monitor</a></li>
<li><a href="https://www.npmjs.com/package/air-monitor-plots">air-monitor-plots</a></li>
</ul>
<h2>License</h2>
<p>GPL-3.0-or-later
Â© 2024â€“2025 Jonathan Callahan / USFS AirFire</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#arrayCount">arrayCount</a></li><li><a href="global.html#arrayMax">arrayMax</a></li><li><a href="global.html#arrayMean">arrayMean</a></li><li><a href="global.html#arrayMin">arrayMin</a></li><li><a href="global.html#arraySum">arraySum</a></li><li><a href="global.html#dailyStats">dailyStats</a></li><li><a href="global.html#diurnalStats">diurnalStats</a></li><li><a href="global.html#pm_nowcast">pm_nowcast</a></li><li><a href="global.html#roundAndUseNull">roundAndUseNull</a></li><li><a href="global.html#trimDate">trimDate</a></li><li><a href="global.html#useNull">useNull</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Tue Jul 08 2025 12:19:36 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>